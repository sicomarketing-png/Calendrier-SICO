<!DOCTYPE html>
<html lang="fr">

<!-- Jeu du cadenas â€“ version finale -->
<div class="lockgame">
  <h3 class="lockgame-title">Trouvez la bonne combinaison pour ouvrir le cadenas</h3>
  <p class="lockgame-intro">
    Le code comporte <strong>3 chiffres</strong>. Ã€ partir des indices, entrez votre
    proposition dans les cases ci-dessous puis cliquez sur Â« Tester le code Â».
  </p>

  <div class="lockgame-layout">
    <!-- Zone de saisie du code -->
    <div class="lockgame-code-panel">
      <div class="lockgame-code-label">Votre code</div>
      <div class="lockgame-code-boxes">
        <input class="lockgame-code-input" type="text" maxlength="1" inputmode="numeric" />
        <input class="lockgame-code-input" type="text" maxlength="1" inputmode="numeric" />
        <input class="lockgame-code-input" type="text" maxlength="1" inputmode="numeric" />
      </div>
      <button class="lockgame-submit" type="button">Tester le code</button>
      <p class="lockgame-message"></p>
    </div>

    <!-- Indices -->
    <div class="lockgame-clues">
      <h4 class="lockgame-clues-title">Les indices</h4>

      <div class="lockgame-clue">
        <div class="lockgame-clue-code">
          <span>6</span><span>8</span><span>2</span>
        </div>
        <div class="lockgame-clue-text">
          <strong>1</strong> chiffre correct et <strong>bien placÃ©</strong>
        </div>
      </div>

      <div class="lockgame-clue">
        <div class="lockgame-clue-code">
          <span>6</span><span>1</span><span>4</span>
        </div>
        <div class="lockgame-clue-text">
          <strong>1</strong> chiffre correct mais <strong>mal placÃ©</strong>
        </div>
      </div>

      <div class="lockgame-clue">
        <div class="lockgame-clue-code">
          <span>2</span><span>0</span><span>6</span>
        </div>
        <div class="lockgame-clue-text">
          <strong>2</strong> chiffres corrects mais <strong>mal placÃ©s</strong>
        </div>
      </div>

      <div class="lockgame-clue">
        <div class="lockgame-clue-code">
          <span>7</span><span>3</span><span>8</span>
        </div>
        <div class="lockgame-clue-text">
          <strong>0</strong> chiffre correct
        </div>
      </div>

      <div class="lockgame-clue">
        <div class="lockgame-clue-code">
          <span>7</span><span>8</span><span>0</span>
        </div>
        <div class="lockgame-clue-text">
          <strong>1</strong> chiffre correct mais <strong>mal placÃ©</strong>
        </div>
      </div>

      <p class="lockgame-note">
        Astuce : utilisez les indices ensemble pour Ã©liminer les possibilitÃ©s. Ce puzzle
        admet une seule solution.
      </p>
    </div>
  </div>
</div>

<style>
  /* Typos */
  @import url("https://fonts.googleapis.com/css2?family=Handlee&family=Montserrat:wght@400;500;600;700&display=swap");

  .lockgame {
    max-width: 720px;
    margin: 0 auto;
    padding: 16px 18px;
    border-radius: 18px;
    background: #ffffff;
    box-shadow: 0 10px 26px rgba(15, 23, 42, 0.18);
    font-family: "Montserrat", system-ui, -apple-system, BlinkMacSystemFont,
      "Segoe UI", sans-serif;
    color: #111827;
  }

  .lockgame-title {
    margin: 0 0 6px;
    font-size: 1.05rem;
    text-align: center;
  }

  .lockgame-intro {
    margin: 0 0 12px;
    font-size: 0.9rem;
    color: #4b5563;
    text-align: center;
  }

  .lockgame-layout {
    display: grid;
    grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.2fr);
    gap: 18px;
    align-items: flex-start;
  }

  @media (max-width: 680px) {
    .lockgame-layout {
      grid-template-columns: minmax(0, 1fr);
    }
  }

  /* Zone code */
  .lockgame-code-panel {
    padding: 10px 12px;
    border-radius: 14px;
    background: #f9fafb;
    box-shadow: inset 0 0 0 1px #e5e7eb;
    text-align: center;
  }

  .lockgame-code-label {
    font-size: 0.86rem;
    color: #9f552a;
    margin-bottom: 6px;
  }

  .lockgame-code-boxes {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-bottom: 10px;
  }

  /* Cases du code : blanches, bord gris */
  .lockgame-code-input {
    width: 40px;
    height: 40px;
    border-radius: 9px;
    border: 1px solid #d1d5db;
    background: #ffffff;
    text-align: center;
    font-size: 1.2rem;
    font-variant-numeric: tabular-nums;
    outline: none;
    color: #111827;
  }

  .lockgame-code-input:focus {
    border-color: #9f532a;
    box-shadow: 0 0 0 1px rgba(159, 83, 42, 0.3);
  }

  /* Bouton orange, texte blanc */
  .lockgame-submit {
    border: none;
    border-radius: 999px;
    padding: 7px 18px;
    background: linear-gradient(135deg, #e49a4a, #c66a27);
    color: #ffffff;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    box-shadow: 0 8px 18px rgba(148, 65, 29, 0.45);
  }

  .lockgame-submit:hover {
    transform: translateY(-1px);
    box-shadow: 0 10px 22px rgba(148, 65, 29, 0.55);
  }

  .lockgame-submit:active {
    transform: translateY(0);
    box-shadow: 0 5px 12px rgba(148, 65, 29, 0.4);
  }

  .lockgame-message {
    min-height: 1.1em;
    margin: 6px 0 0;
    font-size: 0.88rem;
  }

  .lockgame-message.success {
    color: #15803d;
  }

  .lockgame-message.error {
    color: #b91c1c;
  }

  /* Indices */
  .lockgame-clues {
    border-radius: 16px;
    background: #f9fafb;
    padding: 10px 12px;
    box-shadow: inset 0 0 0 1px #e5e7eb;
  }

  /* "Les indices" en bleu */
  .lockgame-clues-title {
    margin: 0 0 8px;
    font-size: 0.98rem;
    color: #9f552a;
  }

  .lockgame-clue {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 3px 0;
  }

  /* Pastilles 682/614... violettes + Handlee + un peu plus grandes */
  .lockgame-clue-code {
    display: inline-flex;
    border-radius: 999px;
    overflow: hidden;
    background: #9f552a;
    color: #ffffff;
    font-family: "Handlee", cursive;
    font-size: 1.2rem;
    font-variant-numeric: tabular-nums;
  }

  .lockgame-clue-code span {
    min-width: 22px;
    padding: 4px 6px;
    text-align: center;
    border-right: 1px solid rgba(248, 250, 252, 0.25);
  }

  .lockgame-clue-code span:last-child {
    border-right: none;
  }

  .lockgame-clue-text {
    font-size: 0.86rem;
    color: #374151;
  }

  .lockgame-note {
    margin-top: 8px;
    font-size: 0.78rem;
    color: #6b7280;
  }
</style>

<script>
  (function () {
    const root = document.querySelector(".lockgame");
    if (!root) return;

    const CORRECT_CODE = "042"; // solution logique des indices

    const inputs = root.querySelectorAll(".lockgame-code-input");
    const btn = root.querySelector(".lockgame-submit");
    const msg = root.querySelector(".lockgame-message");

    function cleanMessage() {
      msg.textContent = "";
      msg.classList.remove("success", "error");
    }

    inputs.forEach((inp, idx) => {
      inp.addEventListener("input", () => {
        inp.value = inp.value.replace(/[^0-9]/g, "").slice(0, 1);
        cleanMessage();
        if (inp.value && idx < inputs.length - 1) {
          inputs[idx + 1].focus();
        }
      });
      inp.addEventListener("focus", cleanMessage);
    });

    function checkCode() {
      const digits = Array.from(inputs)
        .map((i) => (i.value || "").trim())
        .join("");

      if (digits.length !== 3) {
        msg.textContent = "Entre un chiffre dans chacune des trois cases ðŸ™‚";
        msg.classList.add("error");
        msg.classList.remove("success");
        return;
      }

      if (digits === CORRECT_CODE) {
        msg.textContent =
          "Bravo ! Le cadenas se dÃ©verrouille, tu as trouvÃ© la bonne combinaison ðŸ”“";
        msg.classList.add("success");
        msg.classList.remove("error");
      } else {
        msg.textContent =
          "Ce n'est pas la bonne combinaisonâ€¦ Observe bien les indices pour affiner ton raisonnement.";
        msg.classList.add("error");
        msg.classList.remove("success");
      }
    }

    btn.addEventListener("click", checkCode);
    inputs.forEach((inp) =>
      inp.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          checkCode();
        }
      })
    );
  })();
</script>

</body>
</html>
